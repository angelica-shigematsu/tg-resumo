<%- include('partials/header.ejs') %> 
<%- include('partials/navLandingPage.ejs') %> 

<% if (message) {%>
  <div class="alert alert-success" role="alert">
    <%=message%>
  </div>
<% } %>

<% if (messageError) {%> 
  <div class="alert alert-warning" role="alert">
    <%=messageError%>
  </div>
<% } %>

<div class="container-sm">
  <form class="mb-3" id="form-volunteer" enctype="application/x-www-form-urlencoded"
    method="POST" action="/usuario">
    <h3>Seja um voluntário ou usuário</h3>
      <div class="mb-3 row">
        <label for="" class="col-sm-2 col-form-label">Nome Completo</label>
        <div class="col-sm-10">
          <input type="text" class="form-control" 
            minlength="3" id="fullName" 
            placeholder="Digite seu nome completo" 
            name="fullName"
            required
            <%if(user) {%>
              value=<%=user.fullName%>
            <%}%>>
        </div>
      </div>
      <div class="row">
        <div class="mb-3 col-sm-7">
          <label for="" class="col-sm-2 col-form-label">CPF</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" 
              minlength="11" maxlength="11" id="cpf" 
              placeholder="Digite seu cpf" 
              name="cpf"
              required
              <%if(user) {%>
                value=<%=user.cpf%>
              <%}%>>
          </div>
        </div>
        <div class="mb-3 col">
          <label for="" class="col-sm-7 col-form-label">Data de Nascimento</label>
          <div class="col-sm-10">
            <input type="date" class="form-control" 
              id="dateBirthUser"
              name="dateBirthUser"
              required
              <%if(user) {%>
                value=<%=user.dateBirthUser%>
              <%}%>>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="mb-3 col">
          <label for="" class="col-sm-4 col-form-label">E-mail</label>
          <div class="col-sm-14">
            <input type="email" class="form-control" 
              min="15" id="email" 
              placeholder="seuemail@dominio.com" 
              name="email"
              required
              <%if(user) {%>
                value=<%=user.email%>
              <%}%>>
          </div>
        </div>
        <div class="mb-3 col">
          <label for="" class="col-sm-9 col-form-label">Repita seu E-mail</label>
          <div class="col-sm-14">
            <input type="email" class="form-control" 
              min="15" id="email" 
              placeholder="seuemail@dominio.com" 
              name="emailRepeat"
              required
              <%if(user) {%>
                value=<%=user.emailRepeat%>
              <%}%>>
          </div>
        </div>
        <div class="mb-3 col">
          <label for="" class="col-sm-4 col-form-label">Senha</label>
          <div class="col-sm-12">
            <input type="password" class="form-control" 
            minlength="8" id="password" 
            name="password"
            required>
          </div>
        </div>
      </div>
      <div class="mb-3 row">
        <div class="col-sm-3">
          <label for="" class="col-sm-2 col-form-label">Nível</label>
          <div class="col-sm-10">
            <select class="form-select" aria-label="Default select example" name="level">
                <option value="<%=user.level%>"><%if(user) {%>
                  <%=user.level%>
                <%}%></option>
                <option value="Usuario">Usuário</option>
                <option value="Voluntario">Voluntário</option>
            </select>
          </div>
        </div>
      </div>
      <div class="mb-3 row">
        <label for="" class="col-sm-2 col-form-label">Motivo</label>
        <div class="col-sm-10">
          <textarea class="form-control" minlength="30" name="reason" cols="30" rows="10" required>
            <%if(user) {%>
            <%=user.reason%>
          <%}%></textarea>
        </div>
      </div>

      <%- include('showRules.ejs') %> 
      <div class="form-check">
        <input class="form-check-input" type="checkbox" value="true" name="rules" id="flexCheckDefault" checked>
        <label class="form-check-label" for="flexCheckDefault">
          <b>Li e aceito os termos e Políticas de uso</b>
        </label>
      </div>
      <div class="d-grid gap-2 d-md-flex justify-content-md-end">
        <button class="btn btnProgress" type="submit" form="form-volunteer">Pedir para entrar</button>
      </div>
  </form>
</div>
  
<%- include('partials/footer.ejs') %> 