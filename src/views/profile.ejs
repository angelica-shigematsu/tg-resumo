<%- include('partials/nav.ejs') %> 
<%- include('partials/header.ejs') %> 

  <div class="container-sm">
    <form class="mb-3" id="form-profile" enctype="application/x-www-form-urlencoded"
    method="POST" action="/usuario/alterar/<%= user.id%>">
      <h3>Seja mais um colaborador</h3>
      <div class="mb-3 row">
        <label for="" class="col-sm-2 col-form-label">Nome Completo</label>
        <div class="col-sm-10">
          <input type="text" class="form-control" 
          minlength="3" id="full_name" 
          placeholder="Clarice Lispector"
          name="fullName"
          value="<%= user.fullName %>"
          required>
        </div>
      </div>
      <div class="mb-3 row">
        <label for="" class="col-sm-2 col-form-label">CPF</label>
        <div class="col-sm-10">
          <input type="text" class="form-control" 
          minlength="11" maxlength="11" id="cpf" 
          placeholder="134.600.854-91"
          name="cpf"
          value="<%= user.cpf %>"
          required>
        </div>
      </div>
      <div class="row">
        <div class="mb-3 col">
          <label for="" class="col-sm-4 col-form-label">Data Nascimento</label>
          <div class="col-sm-6">
            <input type="date" class="form-control" 
            min="3"
            name="dateBirthUser"
            value="<%= user.dateBirthUser %>"
            required>
          </div>
        </div>
        <div class="mb-3 col">
          <label for="" class="col-sm-4 col-form-label">Email</label>
          <div class="col-sm-6">
            <input type="text" class="form-control" 
            min="3"
            name="email"
            value="<%= user.email %>"
            required>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="mb-3 col">
          <label for="" class="col-sm-4 col-form-label">Senha</label>
          <div class="col-sm-6">
            <input type="password" class="form-control" 
            minlength="8" id="password" 
            name="password"
            value="<%= user.password %>"
            required>
          </div>
        </div>
        <select id="level" name="level" 
          <% if (user.level === 'Voluntario' || user.level === 'Usuario') { %> disabled <%}%>>
          <option value="<%=user.level%>"><%= user.level %> </option>
          <option value="Administrador">Administrador</option>
          <option value="Voluntario">Voluntário</option>
          <option value="Usuario">Usuário</option></option>
      </select>
      <select id="active" name="active"
        <% if (user.level === 'Voluntario' || user.level === 'Usuario'){ %> disabled <%}%>>
        <option><%= user.active %> </option>
        <option>Ativo</option>
        <option>Não ativo</option>
      </select>
      </div>
      <div class="mb-3 row">
        <label for="" class="col-sm-2 col-form-label">Motivo</label>
        <div class="col-sm-10">
          <textarea class="form-control" minlength="30" name="reason" cols="30" rows="10" required><%=user.reason%></textarea>
        </div>
      </div>
    </form>
      <div class="d-grid gap-2 d-md-flex justify-content-md-end">
        <button class="btn btnUpdate" type="submit" form="form-profile">Atualizar</button>
        <form class="mb-3" enctype="application/x-www-form-urlencoded"
          method="POST" action="/usuario/excluir">
          <input type="text" value="<%= user.id %>" name="id" hidden>
          <button class="btn btnCancel" type="submit">Excluir</button>
        </form>
      </div>
  </div>
  
<%- include('partials/footer.ejs') %> 
